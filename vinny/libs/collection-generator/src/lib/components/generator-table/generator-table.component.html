<div class="generator">
  <mat-tab-group [selectedIndex]="selected.value" (selectedIndexChange)="selected.setValue($event)">
    <mat-tab *ngFor="let tab of tabs; let index = index" >
      <ng-template mat-tab-label>
        <div *ngIf="!tab.editing; else edit">{{tab.title}}</div>
        <ng-template #edit>
          <mat-form-field class="example-form-field" appearance="fill">
            <mat-label>Clearable input</mat-label>
            <input matInput type="text" [(ngModel)]="value" >
            <button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
        </ng-template>
        <button *ngIf="!tab.editing" mat-icon-button (click)="editTab(index)">
          <mat-icon>edit</mat-icon>
        </button>
      </ng-template>
      <div>test</div>
    </mat-tab>
    <mat-tab disabled>
      <ng-template mat-tab-label>
        <button mat-icon-button (click)="addTab()">
          <mat-icon>add_circle</mat-icon>
        </button>
      </ng-template>
    </mat-tab>
      </mat-tab-group>
</div>